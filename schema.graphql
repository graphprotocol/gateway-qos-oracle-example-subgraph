type GlobalState @entity {
  "Singleton entity with id 0"
  id: ID!

  messageCount: BigInt!

  dataPointCount: BigInt!

  indexerDataPointCount: BigInt!
}

type OracleMessage @entity {
  "Transaction hash the message was posted"
  id: ID!
  "JSON string payload of oracle message. Users can filter on topic field and use the IPFS hash to pull and parse QoS data."
  payload: String!
  "Epoch timestamp (in seconds) the message was posted to chain"
  createdAt: BigInt!
}

type MessageDataPoint @entity {
  id: ID!

  rawData: String!

  ipfsHash: String!

  indexerDataPointCount: BigInt!

  timestamp: BigInt!

  #indexerDataPoints: [IndexerDataPoint!]! @derivedField(from:"messageDataPoint")

  oracleMessage: OracleMessage!
}

type IndexerDataPoint @entity {
  id: ID!

  messageDataPoint: MessageDataPoint!

  rawData: String!
}
